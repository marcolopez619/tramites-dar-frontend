<div class="main-page" fxLayout='column' fxLayoutAlign="center center"  >
    <header fxFlexFill>
        <mat-toolbar color="primary" fxLayout="row" class="main-toolbar">
            <img class="main-logo" src="../../assets/logo.png" alt="">
            <button mat-icon-button (click)="sidenav.toggle()">
                <mat-icon>menu</mat-icon>
            </button>￼

            <div fxFlex="85" >{{ nombreSistema }}</div>
            
            <a fxFlex="10" fxFlexLayoutAlign="center end" mat-button routerLink="/login"  *ngIf="!auth.isUserAuthenticated()">{{msn.getMsn('loginMensaje')}}</a>
            <a fxFlex="10" mat-button (click)="logout()"  *ngIf="auth.isUserAuthenticated()">{{msn.getMsn('logoutMensaje')}}</a>
            <div fxFlex="5" fxFlexLayoutAlign="center end">
                <div *ngIf="idioma=='es'" (click)="cambiarIdioma('en')">en</div>
                <div *ngIf="idioma=='en'" (click)="cambiarIdioma('es')">es</div>
            </div>
        </mat-toolbar>
    </header>

    <mat-sidenav-container fxFlex="1" class="main-container-nav" fxLayout="column">
        <mat-sidenav #sidenav mode="over" opened="false" >
         
            <mat-list dense>
                <h3 mat-subheader>Informacion del sistema</h3>
                <mat-list-item >
                <mat-icon mat-list-icon>apps</mat-icon>
                <h4 mat-line>{{ nombreSistema }}</h4>
                </mat-list-item>
                <mat-list-item >
                    <mat-icon mat-list-icon>date_range</mat-icon>
                    <h4 mat-line>{{fechaActual | date}}</h4>
                </mat-list-item>

                <mat-divider></mat-divider>
            </mat-list>
            <mat-accordion >
            <mat-expansion-panel *ngFor="let m of menuList.menu" >
                <mat-expansion-panel-header class="mat-accent" >
                    <mat-panel-title >
                        {{m.nombreModulo}}
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-list dense *ngFor="let recurso of m.listaRecursos" >
                    <h3 mat-subheader color="primary">{{ recurso.nombreRecurso}}</h3>
                    <mat-list-item *ngFor="let subrecurso of recurso.listaSubRecuros"  >
                        <a fxLayoutAlign="center center"  href="" class="accordion-list" >{{subrecurso.nombreRecurso}}</a>
                    </mat-list-item>
                </mat-list>
                
            </mat-expansion-panel>
            </mat-accordion>
            <mat-divider></mat-divider>
        </mat-sidenav>
        <div class="sidenav-content" fxLayout="row" fxLayoutAlign="center center">
            <router-outlet fxFlex="1" ></router-outlet>
        </div>

    </mat-sidenav-container>

    <footer fxFlexFill>
        <mat-toolbar fxLayout="row" fxLayoutAlign="center center" color="primary" class="main-footer" >Copyright © Segip 2017 | Versión {{ versionSistema }}</mat-toolbar>
    </footer>
</div>